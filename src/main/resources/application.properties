spring.application.name=application

# Server Configuration
server.port=8080
server.servlet.context-path=/api

# Database Configuration
spring.datasource.url=jdbc:sqlserver://numerino1.database.windows.net:1433;database=numerino1;user=numerino@numerino1;password={Moni#1510};encrypt=true;trustServerCertificate=false;hostNameInCertificate=*.database.windows.net;loginTimeout=30;
spring.datasource.username=numerino
spring.datasource.password=Moni#1510

spring.datasource.driver-class-name=com.microsoft.sqlserver.jdbc.SQLServerDriver

# Configuración para permitir que la aplicación funcione sin base de datos
spring.datasource.hikari.initialization-fail-timeout=-1
spring.sql.init.continue-on-error=true
spring.jpa.database-platform=org.hibernate.dialect.SQLServerDialect
spring.jpa.generate-ddl=false
spring.jpa.hibernate.ddl-auto=none
spring.jpa.properties.hibernate.connection.autocommit=false
spring.jpa.properties.hibernate.temp.use_jdbc_metadata_defaults=false
spring.jpa.properties.hibernate.show_sql=false
spring.jpa.open-in-view=false

# JPA Configuration
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.SQLServerDialect
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# JWT Configuration
jwt.secret=your-256-bit-secret-key-for-jwt-signatures-should-be-very-long
jwt.expiration=86400000
jwt.refresh.expiration=604800000

# Logging Configuration
logging.level.com.gamified.application=INFO
logging.level.org.springframework.jdbc.core=WARN
logging.level.org.springframework.web=WARN
logging.level.org.springframework.security=WARN

# Configuración del formato de log
logging.pattern.console=%clr(%d{yyyy-MM-dd HH:mm:ss.SSS}){faint} %clr(%5p) %clr(---){faint} %clr([%15.15t]){faint} %clr(%-40.40logger{39}){cyan} %clr(:){faint} %m%n
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss.SSS} %5p --- [%15.15t] %-40.40logger{39} : %m%n

# OpenAPI Configuration
springdoc.api-docs.path=/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.operationsSorter=method
springdoc.swagger-ui.tagsSorter=alpha

# =============================================================================
# AZURE AI FOUNDRY CONFIGURATION
# =============================================================================
# Azure AI Foundry Endpoint (Phi-4-mini-instruct Model) - CORREGIDO
azure.ai.foundry.endpoint=${AZURE_AI_FOUNDRY_ENDPOINT:https://numerino1.services.ai.azure.com/openai/v1}
azure.ai.foundry.api-key=${AZURE_AI_FOUNDRY_API_KEY:5QZJcsjafSWMqWCYI5KOmphBBsHMM3VacFwE9K17WWL8LqXIrgr3JQQJ99BKACHYHv6XJ3w3AAAAACOGDcox}
azure.ai.foundry.project-id=${AZURE_AI_FOUNDRY_PROJECT_ID:numerino-core-module-azi}
azure.ai.foundry.deployment-name=${AZURE_AI_FOUNDRY_DEPLOYMENT_NAME:DeepSeek-R1}
azure.ai.foundry.model-version=${AZURE_AI_FOUNDRY_MODEL_VERSION:1}
azure.ai.foundry.api-version=${AZURE_AI_FOUNDRY_API_VERSION:2024-05-01-preview}

# Azure AI Foundry Advanced Settings
azure.ai.foundry.max-tokens=${AZURE_AI_FOUNDRY_MAX_TOKENS:5000}
azure.ai.foundry.temperature=${AZURE_AI_FOUNDRY_TEMPERATURE:0.7}
azure.ai.foundry.top-p=${AZURE_AI_FOUNDRY_TOP_P:0.9}
azure.ai.foundry.frequency-penalty=${AZURE_AI_FOUNDRY_FREQUENCY_PENALTY:0.0}
azure.ai.foundry.presence-penalty=${AZURE_AI_FOUNDRY_PRESENCE_PENALTY:0.0}
azure.ai.foundry.timeout=${AZURE_AI_FOUNDRY_TIMEOUT:30}

# AI Generation Settings
azure.ai.foundry.generation.enabled=${EXERCISE_AI_GENERATION_ENABLED:true}
azure.ai.foundry.fallback.enabled=${EXERCISE_AI_FALLBACK_ENABLED:true}
azure.ai.foundry.detailed-logging=${AZURE_AI_FOUNDRY_DETAILED_LOGGING:false}
azure.ai.foundry.metrics.enabled=${AZURE_AI_FOUNDRY_METRICS_ENABLED:true}
azure.ai.foundry.validation.enabled=${AZURE_AI_FOUNDRY_VALIDATION_ENABLED:true}
azure.ai.foundry.content-filter.level=${AZURE_AI_FOUNDRY_CONTENT_FILTER_LEVEL:medium}

# Configuración del Pool de Ejercicios
exercise.pool.enabled=${EXERCISE_POOL_ENABLED:true}
exercise.pool.min-exercises-per-template=${EXERCISE_POOL_MIN_EXERCISES:5}
exercise.pool.max-exercises-per-template=${EXERCISE_POOL_MAX_EXERCISES:20}
exercise.pool.batch-size=${EXERCISE_POOL_BATCH_SIZE:10}

# Configuración de tareas programadas
spring.task.scheduling.enabled=true
spring.task.execution.pool.core-size=4
spring.task.execution.pool.max-size=8
spring.task.execution.pool.queue-capacity=100

